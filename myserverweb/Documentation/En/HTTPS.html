<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <link rel="stylesheet" type="text/css" href="myserver.css">
  <title>Web Server</title>
</head>
<body>
<h1 class="title">HTTPS</h1>
1)Brief notes on data encryption </br>
2)How create SSL certificates with OpenSSL </br>
3)Use certificates in MyServer </br>

<h2>Brief notes on data encryption </h2>
<p>
The data encryption is used to protect the data that is sent between the client and the server. There are two types of algorithm: symmetric and asymmetric data encryption algorithms. The difference between the two types of algorithm is that for the asymmetric algorithms the same key is used both for encryption and decryption. These algorithms are not used by servers with a potentially large number of clients because the data captured can be decrypted by any client that know the key and because the key needs to be distribuite in a safe manner(for example using a floppy disk) and not distributing it on a large network like internet. The asymmetric algorithms work in a different way, the data encrypted with a key can be decrypted only with the other key and viceversa. Anyone know the public key but only the owner knows the private one. In this way the key owner do not have to distribuite the key only to know clients but he can distributes it to a large scale network. 


<h2>How create SSL certificates with OpenSSL </h2>
<p>
A certificate is needed to certify your identity through a CA(Certification Authority). You can use a certificate without register it to third party CA but creating a Root Certification certificate. To create certificate the library OpenSSL, you can find it at: www.openssl.org, can help you in this process. 
After its installation go in the binaries folder and type: 
<p  class="code">
openssl genrsa -out server.key 
</p>
This will create a private key for encode your data. 

After run this command: 
<p  class="code">
openssl req -new -x509 -days 730 -config openssl.cnf -key server.key -out server.pem 
</p>
To create the public certificate. In this way the certificate can be used for 730 days and the public key will be the server.pem file. 

<h2>Use certificates in MyServer </h2>
<p>
To configure certificates in MyServer you have to put the two files: server.key, server.pem in the certificates folder under the MyServer installation path. After this you have to configure an https virtual host in the virtualhosts.xml file. 
<p  class="code">
&lt;VHOST&gt; </br>
&lt;NAME&gt;Every connection&lt;/NAME&gt;</br>
&lt;PORT&gt;443&lt;/PORT&gt; </br>
&lt;SSL_PRIVATEKEY&gt;certificates/server.key&lt;/SSL_PRIVATEKEY&gt; </br>
&lt;SSL_CERTIFICATE&gt;certificates/server.pem&lt;/SSL_CERTIFICATE&gt; </br>
&lt;PROTOCOL&gt;HTTPS&lt;/PROTOCOL&gt; </br>
&lt;DOCROOT&gt;web&lt;/DOCROOT&gt; </br>
&lt;SYSFOLDER&gt;system&lt;/SYSFOLDER&gt; </br>
&lt;ACCESSESLOG&gt;logs/myServer.log&lt;/ACCESSESLOG&gt; </br>
&lt;WARNINGLOG&gt;logs/myServer.err&lt;/WARNINGLOG&gt; </br>
&lt;/VHOST&gt; </br>
</p>
With this host we put an https listener on the port 443(the default one for https) and we use the file certificates/server.key for the private key and the certificates/server.pem file for the public one.

</body>
</html>