<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>MyServer Documentation - Performance Tuning - www.myserverproject.net</title>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" type="text/css" href="../style/myserver.css" />
</head>
<body>
<table class="center" width="95%">
  <tr> 
    <td class="center"> 
      <h1 class="title">ACERTOS DE PERFORMANCE<br />
      </h1>
      Aqui voc&ecirc; pode ver algumas poucas op&ccedil;&otilde;es que voc&ecirc; 
      pode configurar para melhorar a performance de seu servidor web.<br />
      <br />
          <h2 class="title">Threads:</h2>
            No arquivo myserver.xml voc&ecirc; pode configurar o n&uacute;mero 
      de threads que o MyServer vai usar. Nas linhas abaixo, voc&ecirc; configura 
      os dois par&acirc;metros NTHREADS_STATIC e NTHREADS_MAX, onde o primeiro 
      par&acirc;metro &eacute; usado para definir o n&uacute;mero de threads que 
      est&atilde;o sempre ativas, e o segundo para definir o maior n&uacute;mero 
      de threads que o MyServer pode criar.<br />
      <br />
            &nbsp;&nbsp;&nbsp; &lt;NTHREADS_STATIC&gt;10&lt;/NTHREADS_STATIC&gt;<br />
            &nbsp;&nbsp;&nbsp; &lt;NTHREADS_MAX&gt;10&lt;/NTHREADS_MAX&gt;<br />
      <br />
            <br />
            <br />
            <h2 class="title">Tamanho do Buffer:</h2>

            Voc&ecirc; pode setar o tamanho dos Buffers usados pelo MyServer, 
      alterando a linha abaixo, no arquivo myserver.xml:<br />
      <br />
      &nbsp;&nbsp;&nbsp; &lt;BUFFER_SIZE&gt;102400&lt;/BUFFER_SIZE&gt;<br />
      <br />
            Apenas mude o valor default 102400 para o seu n&uacute;mero desejado. 
            Lembre-se de que, na verdade, seu Buffer ser&aacute; duas vezes o 
            valor que vocv&ecirc; setar aqui (em Bytes), multiplicado pelo n&uacute;mero 
            de threads em execu&ccedil;&atilde;o.<br />
            <br />
            <h2 class="title">Timeout de Conex&otilde;es:</h2>
            No arquivo myserver.xml, voc&ecirc; pode configurar o tempo de Timeout 
      para as conex&otilde;es dos clientes, na linha abaixo:<br />
      <br />
      &nbsp;&nbsp;&nbsp; &lt;CONNECTION_TIMEOUT&gt;60&lt;/CONNECTION_TIMEOUT&gt;<br />
      <br />
            A unidade de tempo &eacute; em segundos. Assim, na linha acima, se 
            seu cliente n&atilde;o acessar seu site por mais de 60 segundos, a 
            conex&atilde;o ser&aacute; fechada. Ou se preferir, mude esse valor 
            para 0 voc&ecirc; n&atilde;o ter&aacute; Conex&otilde;es HTTP Keep-Alive 
            Connections.<br />
            <br />
            <br />
            <h2 class="title">N&uacute;mero M&aacute;ximo de Conex&otilde;es:</h2>
            Voc&ecirc; pode mudar o n&uacute;mero padr&atilde;o de conex&otilde;es 
      que seu servidor web vai aceitar, alterando a linha abaixo no myserver.xml:<br />
      <br />
      &nbsp;&nbsp;&nbsp; &lt;MAX_CONNECTIONS&gt;0&lt;/MAX_CONNECTIONS&gt;<br />
      <br />
            O valor default 0 significa um n&uacute;mero infinito de conex&otilde;es. 
            Qualquer outro valor vai limitar a quantidade de usu&aacute;rios acesando 
            seu servidor.<br />
            <br />
            <h2 class="title">
            M&aacute;ximo N&uacute;mero de Servidores FastCGI: </h2>
            MyServer lhe permite configurar o n&uacute;mero m&aacute;ximo de servidores 
      FastCGI que podem executar, bastando alterar o valor na linha abaixo, no 
      arquivo myserver.xml:<br />
            &nbsp;&nbsp;&nbsp; &lt;FASTCGI_MAX_SERVERS&gt;10&lt;/FASTCGI_MAX_SERVERS&gt;<br />
            <br />
            <br />
            
      <h2 class="title">Setando o Timeout de CGI:</h2>
      <span style="font-weight: bold;"></span><span
 style="font-weight: bold;"><font class="code"></font></span><span style="font-weight: bold;"><font class="code"><br />
        </font></span>Voc&ecirc; pode setar o timeout default para seus scripts 
        CGI no MyServer mudando o valor da vari&aacute;vel CGI_TIMEOUT no seu 
        arquivo myserver.xml:<br />
        Apenas mude a linha abaixo de acordo com suas necessidades:<br />
        <br />
        &nbsp;&nbsp;&nbsp; &lt;CGI_TIMEOUT&gt;15&lt;/CGI_TIMEOUT&gt;<br />
        <br />
        A configura&ccedil;&atilde;o acima significaria que voc&ecirc; est&aacute; 
        setando o Timeout do CGI para 15 segundos (a unidade de tempo &eacute; 
        "segundos")<br />
        <br />
      <br /><br />
      <h2 class="title">Setando o data throttling:</h2>
      Voc&ecirc; pode setar a taxa de data throttling para conex&otilde;es no 
      MyServer (por default, isso fica desabilitado) adicionando uma linha como 
      a seguinte: 
      <p class="code"> &lt;THROTTLING_RATE&gt;1024&lt;/THROTTLING_RATE&gt;<br />
      <br /><br />
       (A unidade &eacute; bytes/segundo)<br />
        Se a mesma linha estiver no <span class="code">virtualhosts.xml</span>, 
        ele vai habilitar e configurar o data throttling para o host virtual corespondente.<br />
        <br />
        Tamb&eacute;m voc&ecirc; pode configurar o data throttling para diret&oacute;rios 
        individuais, usando essas configura&ccedil;&otilde;es em seu arquivo security:<br />
      
      <p class="code"> &lt;USER NAME="Guest" PASS="" READ="TRUE" WRITE="TRUE" 
        BROWSE="TRUE"<br />
        EXECUTE="TRUE" THROTTLING_RATE="1024"/&gt;<br />
      <br /><br />
       Com aquilo,voc&ecirc; estaria habilitando a taxa de 1024 bytes/segundo 
        para o usu&aacute;rio Guest.<br />
        Se voc&ecirc; adicionar uma linah como a seguinte, voc&ecirc; est&aacute; 
        habilitando o controle para um arquivo chamado"bigfile":<br />
        <br />
      
      <p class="code"> &lt;ITEM FILE="bigfile" READ="TRUE" WRITE="FALSE" EXECUTE="FALSE"<br />
        THROTTLING_RATE="1024" /&gt;<br />
        Voc&ecirc; pode tamb&eacute;m misturar as duas possibilidades e setar 
        essa configura&ccedil;&atilde;o para um usu&aacute;rio espec&iacute;fico 
        e um arquivo &uacute;nico:<br />
        &lt;ITEM FILE="bigfile" READ="TRUE" WRITE="FALSE" EXECUTE="FALSE"&gt;<br />
        &lt;USER NAME="Guest" PASS="" READ="TRUE" WRITE="TRUE" BROWSE="TRUE"<br />
        EXECUTE="TRUE" THROTTLING_RATE="1024"/&gt;<br />
        &lt;/ITEM&gt;<br />
        <br />
      <br /><br />
       Esta &eacute; a ordem de verifica&ccedil;&atilde;o para a configura&ccedil;&atilde;o 
        do data throttling:<br />
        1) Usu&aacute;rio e & arquivo (atributo USER dentro de ITEM).<br />
        2) Arquivo (atributo ITEM).<br />
        3) Usu&aacute;rior (atributo USER).<br />
        4) Host virtual (arquivo virtualhosts.xml).<br />
        5) Configura&ccedil;&atilde;o do servidor (arquivo myserver.xml).<br />
        <br />
        <br />
      &nbsp; <br /><br />
    </td>
  </tr></table>
</body>
</html>
